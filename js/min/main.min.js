$(function(){$(".accordion h6").on("click",function(){$(this).next("div").slideToggle(),$(".accordion h6").not(this).next("div").hide()}),$(".js-drag-layout, .js-drag-field").draggable({revert:"invalid",helper:function(){return $(this).clone().width($(this).width())},cursor:"move"}),$(".js-drop-layout").droppable({tolerance:"pointer",accept:".js-drag-layout",drop:function(e,t){$(this).append($(t.draggable).clone().removeClass("js-drag-layout").append('<div class="delete-row">x</div>')),$(".grid").sortable({connectWith:".grid",handle:":not(.editable)"}),$(".js-drop-field").droppable({tolerance:"pointer",accept:".js-drag-field",greedy:!0,drop:function(e,t){var o=$(t.draggable).clone();o.removeClass("js-drag-field"),o.find(".temp-overlay").remove(),$(this).html(o)}})}});var e;$(document).on("click",".ctxmenu-edit",function(t){e.attr("contenteditable","true"),setTimeout(function(){e.focus()},100),$(".contextMenu").remove(),t.stoppropagation()}),$(document).on("click",".ctxmenu-delete",function(t){e.remove(),$(".contextMenu").remove(),t.stoppropagation()}),$(document).on("click",".editable",function(e){$(".grid").sortable("disable"),e.stoppropagation()}),$(document).on("click",function(){$(".grid").hasClass("ui-sortable-disabled")&&$(".grid").sortable("enable"),$(".contextMenu").length>0&&(isHovered=$(".contextMenu").is(":hover"),0==isHovered&&$(".contextMenu").remove())});var t,o='<div class="input-menu"><div><label for="input-type">Input type</label><select name="Input type" id="input-type"><option value="text">text</option><option value="number">number</option><option value="email">email</option></select></div><div><label for="label-text">Label text</label><input type="text" id="label-text" /></div><div><label for="placeholder-text">Placeholder text</label><input type="text" id="placeholder-text" /></div><div><label for="error-text">Error text</label><input type="text" id="error-text" /></div></div>';$(document).on("click",".grid input",function(e){t=$(this),$(".input-menu").length<1&&$("body").append(o),$("#input-type").val(t.attr("type")),$("#label-text").val(t.prev("label").text()),$("#placeholder-text").val(t.attr("placeholder")),$("#error-text").val(t.next(".error").text()),$(".input-menu").css({top:event.pageY,left:event.pageX}),e.stoppropagation()}),$(document).on("change","#input-type",function(){t.attr("type",$(this).val())}),$(document).on("keyup","#label-text",function(){t.prev("label").text($(this).val())}),$(document).on("keyup","#placeholder-text",function(){t.attr("placeholder",$(this).val())}),$(document).on("keyup","#error-text",function(){t.next(".error").text($(this).val())}),$(document).on("click",function(){$(".input-menu").length>0&&(isHovered=$(".input-menu").is(":hover"),0==isHovered&&$(".input-menu").remove())})});